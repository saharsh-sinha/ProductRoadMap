<html>
    <head>
        <title>
            Product Road Map
        </title>
        <style>
            .item { height: 100px; border: 2px solid green; margin: 20px; width: 100px;}
            .container { display: flex; flex-direction: column; padding-top: 1000px;}
            .intersected {background-color: blue;}
        </style>
    </head>
    <body>
        <div class="container">
            <div class="item">01</div>
            <div class="item">02</div>
            <div class="item">03</div>
            <div class="item">04</div>
            <div class="item">05</div>
            <div class="item">06</div>
            <div class="item">07</div>
            <div class="item">08</div>
            <div class="item">09</div>
            <div class="item">10</div>
            <div class="item">11</div>
            <div class="item">12</div>
            <div class="item">13</div>
            <div class="item">14</div>
            <div class="item">15</div>
            <div class="item">16</div>
            <div class="item">17</div>
            <div class="item">18</div>
            <div class="item">19</div>
            <div class="item">20</div>
            <div class="item">21</div>
            <div class="item">22</div>
            <div class="item">23</div>
            <div class="item">24</div>
            <div class="item">25</div>
            <div class="item">26</div>
            <div class="item">27</div>
            <div class="item">28</div>
            <div class="item">29</div>
            <div class="item">30</div>
            <div class="item">31</div>
            <div class="item">32</div>
            <div class="item">33</div>
            <div class="item">34</div>
            <div class="item">35</div>
            <div class="item">36</div>
            <div class="item">37</div>
            <div class="item">38</div>
            <div class="item">39</div>
            <div class="item">40</div>
            <div class="item">41</div>
            <div class="item">42</div>
            <div class="item">43</div>
            <div class="item">44</div>
            <div class="item">45</div>
            <div class="item">46</div>
            <div class="item">47</div>
            <div class="item">48</div>
            <div class="item">49</div>
            <div class="item">50</div>
            <div class="item">51</div>
            <div class="item">52</div>
            <div class="item">53</div>
            <div class="item">54</div>
            <div class="item">55</div>
            <div class="item">56</div>
            <div class="item">57</div>
            <div class="item">58</div>
            <div class="item">59</div>
            <div class="item">60</div>
            <div class="item">61</div>
            <div class="item">62</div>
            <div class="item">63</div>
            <div class="item">64</div>
            <div class="item">65</div>
            <div class="item">66</div>
            <div class="item">67</div>
            <div class="item">68</div>
            <div class="item">69</div>
            <div class="item">70</div>
            <div class="item">71</div>
            <div class="item">72</div>
            <div class="item">73</div>
            <div class="item">74</div>
            <div class="item">75</div>
            <div class="item">76</div>
            <div class="item">77</div>
            <div class="item">78</div>
            <div class="item">79</div>
            <div class="item">80</div>
            <div class="item">81</div>
            <div class="item">82</div>
            <div class="item">83</div>
            <div class="item">84</div>
            <div class="item">85</div>
            <div class="item">86</div>
            <div class="item">87</div>
            <div class="item">88</div>
            <div class="item">89</div>
            <div class="item">90</div>
            <div class="item">91</div>
            <div class="item">92</div>
            <div class="item">93</div>
            <div class="item">94</div>
            <div class="item">95</div>
            <div class="item">96</div>
            <div class="item">97</div>
            <div class="item">98</div>
            <div class="item">99</div>
        </div>        
    </body>
</html>
<script type="text/javascript">
    console.log("here");
    let options = {
        root: null,
        rootMargin: "0px", //"-40% 0% -40% 0%",
        threshold: 1,
    };

    let observables = document.querySelectorAll('.item');

    let observer = new IntersectionObserver(callbackFunction, options);
    observables.forEach(ele => {
        observer.observe(ele);
    })

    console.log(observables);
    
    function callbackFunction(entries) {
        const [entry] = entries;
        console.log(entry);
        
        if (entry.isIntersecting) {
            entry.target.classList.add("intersected");
        } else {
            entry.target.classList.remove("intersected");
        }
    }
</script>